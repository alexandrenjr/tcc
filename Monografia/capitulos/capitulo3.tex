\chapter{Algoritmo}

O algoritmo desenvolvido neste trabalho é um compilado de algoritmos desenvolvidos comentadas anteriormente, utilizando-se das aproximações cônica, elíptica e poligonal das regiões do plano $z$. O objetivo deste trabalho é desenvolver em \emph{software} tais algoritmos e, ao informar parâmetros de projeto, determinar se é possível implementar um compensador que respeite os requisitos.

Para tal, o algoritmo pode ser divido em três partes, uma para cada aproximação, sendo a aproximação escolhida via a chamada do função.

\section{Aproximação cônica}

Para o mapeamento cônico das curvas $\zeta$-constante e $\omega_n$-constante, são utilizados setores cônicos determinados via \eqref{eq:LMIESetorConicoDireito} e \eqref{eq:LMIESetorConicoEsquerdo}, e retas verticais como apresentado em \cite{WISNIEWSKI2017} e \cite{CHIQUETO2021}.

Para a primeira curva, a ideia consiste em utilizar os pontos extremos calculados na seção \ref{sec:SistemasDiscretos}, onde serão os pontos dos setores cônicos. Os ângulos, medidos no sentido anti-horário, são determinados a partir de um terceiro ponto, conforme a

\begin{figure}[!ht]
  \centering
  \begin{subfigure}[t]{0.4\columnwidth}
      \input{figuras/aproximacao_conica_zeta.tikz}
      \caption{}
      \label{subfig:AproximacaoConicaZeta}
  \end{subfigure}
  \begin{subfigure}[t]{0.4\columnwidth}
      \input{figuras/aproximacao_conica_wn.tikz}
      \caption{}
      \label{subfig:AproximacaoConicaWn}
  \end{subfigure}
  \caption{}
  \label{fig:AproximacoesConica}
\end{figure}

\begin{algorithm}[hbt!]
  \caption{Aproximação cônica da taxa de amortecimento}\label{alg:AproximacaoConicaZeta}
  \begin{algorithmic}[1]
    \Require $\zeta$, $T_s$
    \Ensure $K$
    \State $Z_o \gets $ $z(\zeta,0)$
    \State $Z_i \gets $ $z\left(\zeta,\dfrac{\pi}{T_s\sqrt(1-\zeta^2)}\right)$
    \State $Z \gets z(\zeta,\omega_n)$, onde a área do triângulo formado é a maior possível
    \State $F \gets P \succ 0$
    \State $F \gets F \cap \eqref{eq:LMIESetorConicoEsquerdo}$, com $a = Z_o$ e $\theta = ang(Z,Z_i)$ \Comment{Setor cônico esquerdo}
    \State $F \gets F \cap \eqref{eq:LMIESetorConicoDireito}$, com $a = Z_i$ e $\theta = ang(Z,Z_o)$ \Comment{Setor cônico direito}
    \State $F \gets F \cap \eqref{eq:LMIRightBounded}$, com $a = Z_i$  \Comment{Reta vertical}
    \State Verificar se o problema é factível
    \State $K \gets ZP^{-1}$
  \end{algorithmic}
\end{algorithm}

\begin{algorithm}[hbt!]
  \caption{Aproximação cônica da curva $N_y$}\label{alg:AproximacaoConicaNy}
  \begin{algorithmic}[1]
    \Require $\omega_n$
    \Ensure $K$
    \State $N_o \gets $ $z(0,\omega_n)$
    \State $N_i \gets $ $z(1,\omega_n)$
    \State $F \gets P \succ 0$
    \State $F \gets F \cap \eqref{eq:LMIESetorConicoDireito}$, com $a = N_i$ e $\theta = ang(N_i,N_o)$ \Comment{Setor cônico direito}
    \State $F \gets F \cap \eqref{eq:LMIRightBounded}$, com $a = N_i$ \Comment{Reta vertical}
    \State Verificar se o problema é factível
    \State $K \gets ZP^{-1}$
  \end{algorithmic}
\end{algorithm}